
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Constraint traits &#8212; Smithy 1.0 documentation</title><link rel="stylesheet" href="../../../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/default.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" href="../../../_static/custom-tabs.css" type="text/css" />

    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/tabs.js"></script>
    <script type="text/javascript" src="../../../_static/smithy.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="4. Documentation traits" href="documentation-traits.html" />
    <link rel="prev" title="2. Prelude model" href="prelude-model.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="smithy-version" content="1.0">

  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../../../index.html">
                    <span class="logo-icon">üî®Ô∏è</span><span class="logo-text">Smithy</span>
                </a>
                <span class="version-text">1.0</span>
            </div>
            <ul id="page-navigation">
                <li class="site-page first"><a href="../../../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../index.html">Specifications</a></li>
                <li class="site-page"><a href="../../guides/index.html">Guides</a></li>
                <li class="site-page"><a href="https://github.com/awslabs/smithy">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../../../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article class="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="../index.html" >Specifications</a></li>
                    <li><a href="index.html" accesskey="U">Smithy specification</a></li>
                    </ul>
                    
                    
  <div class="section" id="constraint-traits">
<h1><a href="#constraint-traits"><span class="section-number">3. </span>Constraint traits</a></h1>
<p>Constraint traits are used to constrain the values that can be provided
for a shape.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#enum-trait" id="id8"><code class="docutils literal notranslate"><span class="pre">enum</span></code> trait</a></li>
<li><a class="reference internal" href="#idref-trait" id="id9"><code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait</a></li>
<li><a class="reference internal" href="#length-trait" id="id10"><code class="docutils literal notranslate"><span class="pre">length</span></code> trait</a></li>
<li><a class="reference internal" href="#pattern-trait" id="id11"><code class="docutils literal notranslate"><span class="pre">pattern</span></code> trait</a></li>
<li><a class="reference internal" href="#private-trait" id="id12"><code class="docutils literal notranslate"><span class="pre">private</span></code> trait</a></li>
<li><a class="reference internal" href="#range-trait" id="id13"><code class="docutils literal notranslate"><span class="pre">range</span></code> trait</a></li>
<li><a class="reference internal" href="#required-trait" id="id14"><code class="docutils literal notranslate"><span class="pre">required</span></code> trait</a></li>
<li><a class="reference internal" href="#uniqueitems-trait" id="id15"><code class="docutils literal notranslate"><span class="pre">uniqueItems</span></code> trait</a></li>
<li><a class="reference internal" href="#trait-precedence" id="id16">Trait precedence</a></li>
</ul>
</div>
<div class="section" id="enum-trait">
<span id="smithy-api-enum-trait"></span><span id="id1"></span><h2><a href="#enum-trait"><span class="section-number">3.1. </span><code class="docutils literal notranslate"><span class="pre">enum</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Constrains the acceptable values of a string to a fixed set.</dd>
<dt>Trait selector</dt><dd><code class="docutils literal notranslate"><span class="pre">string</span></code></dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">list</span></code> of <em>enum definition</em> structures.</dd>
</dl>
<p>Smithy models SHOULD apply the enum trait when string shapes have a fixed
set of allowable values.</p>
<p>An <em>enum definition</em> is a structure that supports the following members:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>value</td>
<td>string</td>
<td><strong>Required</strong>. Defines the enum value that is sent over the wire. Values
MUST NOT be empty. Values MUST be unique across all enum definitions in
an <code class="docutils literal notranslate"><span class="pre">enum</span></code> trait.</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>string</td>
<td><p class="first">Defines a constant name that can be used in programming languages to
reference an enum <code class="docutils literal notranslate"><span class="pre">value</span></code>. A <code class="docutils literal notranslate"><span class="pre">name</span></code> is not required, though
their use is strongly encouraged to help tools like code generators
safely and reliably create symbols that represent specific values.</p>
<p>Validation constraints:</p>
<ul class="last simple">
<li>Names MUST start with an upper or lower case ASCII Latin letter
(<code class="docutils literal notranslate"><span class="pre">A-Z</span></code> or <code class="docutils literal notranslate"><span class="pre">a-z</span></code>), or the ASCII underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) and be
followed by zero or more upper or lower case ASCII Latin letters
(<code class="docutils literal notranslate"><span class="pre">A-Z</span></code> or <code class="docutils literal notranslate"><span class="pre">a-z</span></code>), ASCII underscores (<code class="docutils literal notranslate"><span class="pre">_</span></code>), or ASCII digits
(<code class="docutils literal notranslate"><span class="pre">0-9</span></code>). That is, names MUST match the following regular
expression: <code class="docutils literal notranslate"><span class="pre">^[a-zA-Z_]+[a-zA-Z_0-9]*$</span></code>.</li>
<li>The following stricter rules are recommended for consistency: Enum
constant names SHOULD NOT contain any lowercase ASCII Latin letters
(<code class="docutils literal notranslate"><span class="pre">a-z</span></code>) and SHOULD NOT start with an ASCII underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>).
That is, enum names SHOULD match the following regular expression:
<code class="docutils literal notranslate"><span class="pre">^[A-Z]+[A-Z_0-9]*$</span></code>.</li>
<li>Names MUST be unique across all enum definitions of an <code class="docutils literal notranslate"><span class="pre">enum</span></code>
trait.</li>
<li>If any enum definition has a <code class="docutils literal notranslate"><span class="pre">name</span></code>, then all entries in the
<code class="docutils literal notranslate"><span class="pre">enum</span></code> trait MUST have a <code class="docutils literal notranslate"><span class="pre">name</span></code>.</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>documentation</td>
<td>string</td>
<td>Defines documentation about the enum value in the <a class="reference external" href="https://spec.commonmark.org/">CommonMark</a> format.</td>
</tr>
<tr class="row-odd"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>Attaches a list of tags that allow the enum value to be categorized and
grouped.</td>
</tr>
<tr class="row-even"><td>deprecated</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>Whether the enum value should be considered deprecated for consumers of
the Smithy model.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Code generators MAY choose to represent enums as programming language
constants. Those that do SHOULD use the enum definition's <code class="docutils literal notranslate"><span class="pre">name</span></code> property,
if specified. Consumers that choose to represent enums as constants SHOULD
ensure that unknown enum names returned from a service do not cause runtime
failures.</p>
</div>
<p>The following example defines an enum of valid string values for <code class="docutils literal notranslate"><span class="pre">MyString</span></code>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-0-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-0-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@enum</span>([<span class="w"></span>
<span class="w">    </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">value:</span><span class="w"> </span><span class="s2">&quot;t2.nano&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;T2_NANO&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">documentation:</span><span class="w"> </span><span class="s1">&quot;&quot;&quot;</span>
<span class="s1">            T2 instances are Burstable Performance</span>
<span class="s1">            Instances that provide a baseline level of CPU</span>
<span class="s1">            performance with the ability to burst above the</span>
<span class="s1">            baseline.&quot;&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">tags:</span><span class="w"> </span>[<span class="s2">&quot;ebsOnly&quot;</span>]<span class="w"></span>
<span class="w">    </span>}<span class="p">,</span><span class="w"></span>
<span class="w">    </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">value:</span><span class="w"> </span><span class="s2">&quot;t2.micro&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;T2_MICRO&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">documentation:</span><span class="w"> </span><span class="s1">&quot;&quot;&quot;</span>
<span class="s1">            T2 instances are Burstable Performance</span>
<span class="s1">            Instances that provide a baseline level of CPU</span>
<span class="s1">            performance with the ability to burst above the</span>
<span class="s1">            baseline.&quot;&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">tags:</span><span class="w"> </span>[<span class="s2">&quot;ebsOnly&quot;</span>]<span class="w"></span>
<span class="w">    </span>}<span class="p">,</span><span class="w"></span>
<span class="w">    </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">value:</span><span class="w"> </span><span class="s2">&quot;m256.mega&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;M256_MEGA&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">deprecated:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
])<span class="w"></span>
<span class="kd">string</span><span class="nc"> MyString</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-0-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#enum&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;t2.nano&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;T2_NANO&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;T2 instances are ...&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;ebsOnly&quot;</span>
                        <span class="p">]</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;t2.micro&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;T2_MICRO&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;documentation&quot;</span><span class="p">:</span> <span class="s2">&quot;T2 instances are ...&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;ebsOnly&quot;</span>
                        <span class="p">]</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;m256.mega&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;M256_MEGA&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;deprecated&quot;</span><span class="p">:</span> <span class="kc">true</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="idref-trait">
<span id="smithy-api-idref-trait"></span><span id="id2"></span><h2><a href="#idref-trait"><span class="section-number">3.2. </span><code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd><p>Indicates that a string value MUST contain a valid absolute
<a class="reference internal" href="model.html#shape-id"><span class="std std-ref">shape ID</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait is used primarily when declaring
<a class="reference internal" href="model.html#trait-shapes"><span class="std std-ref">trait shapes</span></a> in a model. A trait shape
that targets a string shape with the <code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait indicates that when
the defined trait is applied to a shape, the value of the trait MUST be
a valid shape ID. The <code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait can also be applied at any level of
nesting on shapes referenced by trait shapes.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:test(string,</span> <span class="pre">member</span> <span class="pre">&gt;</span> <span class="pre">string)</span></code></p>
<p><em>A string shape or a member that targets a string shape</em></p>
</dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">structure</span></code></dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait is a structure that supports the following optional
members:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>failWhenMissing</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the shape ID MUST target a shape that can be
found in the model.</td>
</tr>
<tr class="row-odd"><td>selector</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><p class="first">Defines the <a class="reference internal" href="selectors.html#selectors"><span class="std std-ref">selector</span></a> that the resolved shape,
if found, MUST match.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">selector</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> when not defined.</p>
</td>
</tr>
<tr class="row-even"><td>errorMessage</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><p class="first">Defines a custom error message to use when the shape ID cannot be
found or does not match the <code class="docutils literal notranslate"><span class="pre">selector</span></code>.</p>
<p class="last">A default message is generated when <code class="docutils literal notranslate"><span class="pre">errorMessage</span></code> is not defined.</p>
</td>
</tr>
</tbody>
</table>
<p>To illustrate an example, a custom trait named <code class="docutils literal notranslate"><span class="pre">integerRef</span></code> is defined.
This trait can be attached to any shape, and the value of the trait MUST
contain a valid shape ID that targets an integer shape in the model.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-1-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-1-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-1-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span><span class="w"></span>

<span class="nd">@trait</span><span class="w"></span>
<span class="nd">@idRef</span>(<span class="nl">failWhenMissing:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">selector:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> integerRef</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-1-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#trait&quot;</span><span class="p">:</span> <span class="p">{},</span>
                <span class="nt">&quot;smithy.api#idRef&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;failWhenMissing&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>Given the following model,</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-2-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-2-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-2-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-2-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-2-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace</span><span class="nc"> smithy.example</span><span class="w"></span>

<span class="nd">@integerRef</span>(<span class="vc">NotFound</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> InvalidShape1</span><span class="w"></span>

<span class="nd">@integerRef</span>(<span class="vc">String</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> InvalidShape2</span><span class="w"></span>

<span class="nd">@integerRef</span>(<span class="s2">&quot;invalid-shape-id!&quot;</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> InvalidShape3</span><span class="w"></span>

<span class="nd">@integerRef</span>(<span class="vc">Integer</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> ValidShape</span><span class="w"></span>

<span class="nd">@integerRef</span>(<span class="vc">MyShape</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> ValidShape2</span><span class="w"></span>

<span class="kd">integer</span><span class="nc"> MyShape</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-2-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#InvalidShape1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="s2">&quot;NotFound&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#InvalidShape2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="s2">&quot;String&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#InvalidShape3&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid-shape-id!&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#ValidShape&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="s2">&quot;Integer&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#ValidShape2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.example#integerRef&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#MyShape&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#MyShape&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">InvalidShape1</span></code> is invalid because the &quot;NotFound&quot; shape cannot be
found in the model.</li>
<li><code class="docutils literal notranslate"><span class="pre">InvalidShape2</span></code> is invalid because &quot;smithy.api#String&quot; targets a
string which does not match the &quot;integer&quot; selector.</li>
<li><code class="docutils literal notranslate"><span class="pre">InvalidShape3</span></code> is invalid because &quot;invalid-shape-id!&quot; is not a
syntactically correct absolute shape ID.</li>
<li><code class="docutils literal notranslate"><span class="pre">ValidShape</span></code> is valid because &quot;smithy.api#Integer&quot; targets an integer.</li>
<li><code class="docutils literal notranslate"><span class="pre">ValidShape2</span></code> is valid because &quot;MyShape&quot; is a relative ID that targets
<code class="docutils literal notranslate"><span class="pre">smithy.example#MyShape</span></code>.</li>
</ul>
</div>
<div class="section" id="length-trait">
<span id="id3"></span><h2><a href="#length-trait"><span class="section-number">3.3. </span><code class="docutils literal notranslate"><span class="pre">length</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Constrains a shape to minimum and maximum number of elements or size.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:test(collection,</span> <span class="pre">map,</span> <span class="pre">string,</span> <span class="pre">blob,</span> <span class="pre">member</span> <span class="pre">&gt;</span> <span class="pre">:is(collection,</span> <span class="pre">map,</span> <span class="pre">string,</span> <span class="pre">blob))</span></code></p>
<p><em>Any list, set, map, string, or blob; or a member that targets one of these shapes</em></p>
</dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">structure</span></code></dd>
</dl>
<p>The length trait is a structure that contains the following members:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>min</td>
<td><code class="docutils literal notranslate"><span class="pre">number</span></code></td>
<td>Integer value that represents the minimum inclusive length of a shape.</td>
</tr>
<tr class="row-odd"><td>max</td>
<td><code class="docutils literal notranslate"><span class="pre">number</span></code></td>
<td>Integer value that represents the maximum inclusive length of a shape.</td>
</tr>
</tbody>
</table>
<p>At least one of min, max is required.</p>
<p>The following table describes what a length trait constrains when applied to
the corresponding shape:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Shape</th>
<th class="head">Length constrains</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>list</td>
<td>The number of members</td>
</tr>
<tr class="row-odd"><td>set</td>
<td>The number of members</td>
</tr>
<tr class="row-even"><td>map</td>
<td>The number of key-value pairs</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>The number of <a class="reference external" href="https://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a></td>
</tr>
<tr class="row-even"><td>blob</td>
<td>The size of the blob in bytes</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-3-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-3-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-3-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-3-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-3-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@length</span>(<span class="nl">min:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nl">max:</span><span class="w"> </span><span class="m">10</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> MyString</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-3-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">10</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="pattern-trait">
<span id="smithy-api-pattern-trait"></span><span id="id4"></span><h2><a href="#pattern-trait"><span class="section-number">3.4. </span><code class="docutils literal notranslate"><span class="pre">pattern</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Restricts string shape values to a specified regular expression.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:test(string,</span> <span class="pre">member</span> <span class="pre">&gt;</span> <span class="pre">string)</span></code></p>
<p><em>A string or a member that targets a string</em></p>
</dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">string</span></code></dd>
</dl>
<p>Smithy regular expressions MUST be valid regular expressions according to the
<a class="reference external" href="https://www.ecma-international.org/ecma-262/8.0/index.html#sec-patterns">ECMA 262 regular expression dialect</a>. Patterns SHOULD avoid the use of
conditionals, directives, recursion, lookahead, look-behind, back-references,
and look-around in order to ensure maximum compatibility across programming
languages.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Pattern values should be chosen with care, as regex evaluation can be
expensive. Regular expressions SHOULD be tested against a range of
potentially malformed inputs to ensure that the execution of the regular
expression match does not lead to a potential denial of service. See
<a class="reference external" href="https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS">OWASP Regular expression Denial of Service</a> for more information.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">pattern</span></code> trait does not implicitly add a leading <code class="docutils literal notranslate"><span class="pre">^</span></code> or trailing
<code class="docutils literal notranslate"><span class="pre">$</span></code> to match an entire string. For example, <code class="docutils literal notranslate"><span class="pre">&#64;pattern(&quot;\\w+&quot;)</span></code> matches
both &quot;hello&quot; and &quot;!hello!&quot; because it requires that just part of the
string matches the regular expression, whereas <code class="docutils literal notranslate"><span class="pre">&#64;pattern(&quot;^\\w+$&quot;)</span></code>
requires that the entire string matches the regular expression.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pattern values that contain <code class="docutils literal notranslate"><span class="pre">\</span></code> need to <a class="reference internal" href="idl.html#string-escape-characters"><span class="std std-ref">escape it</span></a>.
For example, the regular expression <code class="docutils literal notranslate"><span class="pre">^\w+$</span></code> would be specified as
<code class="docutils literal notranslate"><span class="pre">&#64;pattern(&quot;^\\w+$&quot;)</span></code>.</p>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-4-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-4-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-4-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-4-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-4-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@pattern</span>(<span class="s2">&quot;\\w+&quot;</span>)<span class="w"></span>
<span class="kd">string</span><span class="nc"> MyString</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-4-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;\\w+&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="private-trait">
<span id="smithy-api-private-trait"></span><span id="id5"></span><h2><a href="#private-trait"><span class="section-number">3.5. </span><code class="docutils literal notranslate"><span class="pre">private</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Prevents models defined in a different namespace from referencing the
targeted shape.</dd>
<dt>Trait selector</dt><dd><code class="docutils literal notranslate"><span class="pre">*</span></code></dd>
<dt>Value type</dt><dd>Annotation trait</dd>
</dl>
<p>Shapes marked as <code class="docutils literal notranslate"><span class="pre">private</span></code> cannot be accessed outside of the namespace in
which the shape is defined. The <code class="docutils literal notranslate"><span class="pre">private</span></code> trait is meant only to control
access from within the model itself and SHOULD NOT influence code-generation
of the targeted shape.</p>
</div>
<div class="section" id="range-trait">
<span id="smithy-api-range-trait"></span><span id="id6"></span><h2><a href="#range-trait"><span class="section-number">3.6. </span><code class="docutils literal notranslate"><span class="pre">range</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Restricts allowed values of byte, short, integer, long, float, double,
bigDecimal, and bigInteger shapes within an acceptable lower and upper
bound.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:test(number,</span> <span class="pre">member</span> <span class="pre">&gt;</span> <span class="pre">number)</span></code></p>
<p><em>A number or a member that targets a number</em></p>
</dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">structure</span></code></dd>
</dl>
<p>The range trait is a structure that contains the following members:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>min</td>
<td><code class="docutils literal notranslate"><span class="pre">bigDecimal</span></code></td>
<td>Specifies the allowed inclusive minimum value.</td>
</tr>
<tr class="row-odd"><td>max</td>
<td><code class="docutils literal notranslate"><span class="pre">bigDecimal</span></code></td>
<td>Specifies the allowed inclusive maximum value.</td>
</tr>
</tbody>
</table>
<p>At least one of <code class="docutils literal notranslate"><span class="pre">min</span></code> or <code class="docutils literal notranslate"><span class="pre">max</span></code> is required. <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> accept both
integers and real numbers. Real numbers may only be applied to float, double,
or bigDecimal shapes. <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> MUST fall within the allowable range
of the targeted numeric shape to which it is applied.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-5-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-5-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-5-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-5-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-5-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@range</span>(<span class="nl">min:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nl">max:</span><span class="w"> </span><span class="m">10</span>)<span class="w"></span>
<span class="kd">integer</span><span class="nc"> MyInt</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-5-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyInt&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#range&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">10</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="required-trait">
<span id="smithy-api-required-trait"></span><span id="id7"></span><h2><a href="#required-trait"><span class="section-number">3.7. </span><code class="docutils literal notranslate"><span class="pre">required</span></code> trait</a></h2>
<dl class="docutils">
<dt>Summary</dt><dd>Marks a structure member as required, meaning a value for the member MUST
be present and not set to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span> <span class="pre">&gt;</span> <span class="pre">member</span></code></p>
<p><em>Member of a structure</em></p>
</dd>
<dt>Value type</dt><dd>Annotation trait.</dd>
</dl>
<p>The required trait applies to structure data, operation input, output, and
errors. When a member that is part of the input of an operation is marked as
required, a client MUST provide a value for the member when calling the
operation. When a member that is part of the output of an operation or an
error is marked as required, a service MUST provide a value for the member
in a response.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-6-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-6-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-6-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-6-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-6-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure</span><span class="nc"> MyStructure</span><span class="w"> </span>{<span class="w"></span>
<span class="w">    </span><span class="nd">@required</span><span class="w"></span>
<span class="w">    </span><span class="nl">foo:</span><span class="w"> </span><span class="vc">FooString</span><span class="p">,</span><span class="w"></span>
}<span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-6-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#FooString&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span> <span class="p">{}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="documentation-traits.html#recommended-trait"><span class="std std-ref">recommended trait</span></a></p>
</div>
</div>
<div class="section" id="uniqueitems-trait">
<span id="uniqueitems"></span><span id="smithy-api-uniqueitems-trait"></span><h2><a href="#uniqueitems-trait"><span class="section-number">3.8. </span><code class="docutils literal notranslate"><span class="pre">uniqueItems</span></code> trait</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This trait has been deprecated. It will be removed in future versions
of Smithy. Set shapes should be used instead.</p>
</div>
<dl class="docutils">
<dt>Summary</dt><dd>Indicates that the items in a <a class="reference internal" href="model.html#list"><span class="std std-ref">List</span></a> MUST be unique.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:test(list</span> <span class="pre">&gt;</span> <span class="pre">member</span> <span class="pre">&gt;</span> <span class="pre">simpleType)</span></code></p>
<p><em>A list that targets any simple type.</em></p>
</dd>
<dt>Value type</dt><dd>Annotation trait.</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-7-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-7-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-7-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-7-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-7-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nd">@uniqueItems</span><span class="w"></span>
<span class="kd">list</span><span class="nc"> MyList</span><span class="w"> </span>{<span class="w"></span>
<span class="w">    </span><span class="nl">member:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span><span class="w"></span>
}<span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-7-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span>
            <span class="nt">&quot;member&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.api#String&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#uniqueItems&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="trait-precedence">
<span id="precedence"></span><h2><a href="#trait-precedence"><span class="section-number">3.9. </span>Trait precedence</a></h2>
<p>Some constraints can be applied to shapes as well as structure members. If a
constraint of the same type is applied to a structure member and the shape
that the member targets, the trait applied to the member takes precedence.</p>
<p>In the below example, the <code class="docutils literal notranslate"><span class="pre">range</span></code> trait applied to <code class="docutils literal notranslate"><span class="pre">numberOfItems</span></code>
takes precedence over the one applied to <code class="docutils literal notranslate"><span class="pre">PositiveInteger</span></code>. The resolved
minimum will be <code class="docutils literal notranslate"><span class="pre">7</span></code>, and the maximum <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-U21pdGh5" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-8-U21pdGh5" name="U21pdGh5" role="tab" tabindex="0">Smithy</button><button aria-controls="panel-8-SlNPTg==" aria-selected="false" class="sphinx-tabs-tab code-tab group-tab" id="tab-8-SlNPTg==" name="SlNPTg==" role="tab" tabindex="-1">JSON</button></div><div aria-labelledby="tab-8-U21pdGh5" class="sphinx-tabs-panel code-tab group-tab" id="panel-8-U21pdGh5" name="U21pdGh5" role="tabpanel" tabindex="0"><div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure</span><span class="nc"> ShoppingCart</span><span class="w"> </span>{<span class="w"></span>
<span class="w">    </span><span class="nd">@range</span>(<span class="nl">min:</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="nl">max:</span><span class="m">12</span>)<span class="w"></span>
<span class="w">    </span><span class="nl">numberOfItems:</span><span class="w"> </span><span class="vc">PositiveInteger</span><span class="w"></span>
}<span class="w"></span>

<span class="nd">@range</span>(<span class="nl">min:</span><span class="w"> </span><span class="m">1</span>)<span class="w"></span>
<span class="kd">integer</span><span class="nc"> PositiveInteger</span><span class="w"></span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" hidden="true" id="panel-8-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;smithy&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;shapes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;structure&quot;</span><span class="p">,</span>
            <span class="nt">&quot;members&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;smithy.example#PositiveInteger&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;smithy.api#range&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
                            <span class="nt">&quot;max&quot;</span><span class="p">:</span> <span class="mi">12</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;smithy.example#PositiveInteger&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
            <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;smithy.api#range&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;min&quot;</span><span class="p">:</span> <span class="mi">1</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
</div>


                    
                    <section class="relations">
                        
                        <a href="prelude-model.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê <span class="section-number">2. </span>Prelude model</a>
                        
                        <a href="documentation-traits.html" title="next chapter" class="next-page clearfix"><span class="section-number">4. </span>Documentation traits ‚Üí</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="prelude-model.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê Prev</a>
                                
                                <a href="documentation-traits.html" title="next chapter" class="next-page clearfix">Next ‚Üí</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">3. Constraint traits</a><ul>
<li><a class="reference internal" href="#enum-trait">3.1. <code class="docutils literal notranslate"><span class="pre">enum</span></code> trait</a></li>
<li><a class="reference internal" href="#idref-trait">3.2. <code class="docutils literal notranslate"><span class="pre">idRef</span></code> trait</a></li>
<li><a class="reference internal" href="#length-trait">3.3. <code class="docutils literal notranslate"><span class="pre">length</span></code> trait</a></li>
<li><a class="reference internal" href="#pattern-trait">3.4. <code class="docutils literal notranslate"><span class="pre">pattern</span></code> trait</a></li>
<li><a class="reference internal" href="#private-trait">3.5. <code class="docutils literal notranslate"><span class="pre">private</span></code> trait</a></li>
<li><a class="reference internal" href="#range-trait">3.6. <code class="docutils literal notranslate"><span class="pre">range</span></code> trait</a></li>
<li><a class="reference internal" href="#required-trait">3.7. <code class="docutils literal notranslate"><span class="pre">required</span></code> trait</a></li>
<li><a class="reference internal" href="#uniqueitems-trait">3.8. <code class="docutils literal notranslate"><span class="pre">uniqueItems</span></code> trait</a></li>
<li><a class="reference internal" href="#trait-precedence">3.9. Trait precedence</a></li>
</ul>
</li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>¬©2021, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>