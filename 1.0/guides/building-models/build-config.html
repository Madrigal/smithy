
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>smithy-build &#8212; Smithy 1.0 documentation</title><link rel="stylesheet" href="../../../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/default.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" href="../../../_static/custom-tabs.css" type="text/css" />

    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/tabs.js"></script>
    <script type="text/javascript" src="../../../_static/smithy.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Model linters" href="../model-linters.html" />
    <link rel="prev" title="Smithy Gradle Plugin" href="gradle-plugin.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="smithy-version" content="1.0">

  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../../../index.html">
                    <span class="logo-icon">üî®Ô∏è</span><span class="logo-text">Smithy</span>
                </a>
                <span class="version-text">1.0</span>
            </div>
            <ul id="page-navigation">
                <li class="site-page first"><a href="../../../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../../spec/index.html">Specifications</a></li>
                <li class="site-page"><a href="../index.html">Guides</a></li>
                <li class="site-page"><a href="https://github.com/awslabs/smithy">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../../../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article class="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="../index.html" >Smithy Guides</a></li>
                    <li><a href="index.html" accesskey="U">Building Smithy Models</a></li>
                    </ul>
                    
                    
  <div class="section" id="smithy-build">
<h1><a href="#smithy-build">smithy-build</a></h1>
<p>Building a Smithy model requires constructing a configuration file,
<code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code>. This file is used to describe how a model is created
and what projections of the model to create.</p>
<div class="section" id="using-smithy-build-json">
<span id="smithy-build-json"></span><h2><a href="#using-smithy-build-json">Using <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> file is used to describe how a model is created and
what projections of the model to create.</p>
<p>The configuration file accepts the following properties:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>version</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><strong>Required.</strong> Defines the version of smithy-build. Set to <cite>1.0</cite>.</td>
</tr>
<tr class="row-odd"><td>outputDirectory</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The location where projections are written. Each
projection will create a subdirectory named after the projection, and
the artifacts from the projection, including a <code class="docutils literal notranslate"><span class="pre">model.json</span></code> file,
will be placed in the directory.</td>
</tr>
<tr class="row-even"><td>imports</td>
<td><code class="docutils literal notranslate"><span class="pre">string[]</span></code></td>
<td>Provides a list of relative imports to combine into a single model.
When a directory is encountered, all files and all files within all
subdirectories are imported. Note that build systems MAY choose to rely
on other mechanisms for importing models and forming a composite model.
These imports are used in every projection. Note: imports are relative
to the configuration file.</td>
</tr>
<tr class="row-odd"><td>projections</td>
<td><code class="docutils literal notranslate"><span class="pre">map&lt;string,</span> <span class="pre">object&gt;</span></code></td>
<td>A map of projection names to projection configurations.</td>
</tr>
<tr class="row-even"><td>plugins</td>
<td><code class="docutils literal notranslate"><span class="pre">map&lt;string,</span> <span class="pre">object&gt;</span></code></td>
<td>Defines the plugins to apply to the model when building every
projection. Plugins are a mapping of plugin names to an arbitrary
plugin configuration object.</td>
</tr>
<tr class="row-odd"><td>ignoreMissingPlugins</td>
<td><code class="docutils literal notranslate"><span class="pre">bool</span></code></td>
<td>If a plugin can't be found, Smithy will by default fail the build. This
setting can be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to allow the build to progress even if
a plugin can't be found on the classpath.</td>
</tr>
</tbody>
</table>
<p>The following is an example <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> configuration:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-0-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;outputDirectory&quot;</span><span class="p">:</span> <span class="s2">&quot;build/output&quot;</span><span class="p">,</span>
    <span class="nt">&quot;imports&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo.json&quot;</span><span class="p">,</span> <span class="s2">&quot;some/directory&quot;</span><span class="p">],</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;my-abstract-projection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;abstract&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nt">&quot;projection-name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;imports&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;projection-specific-imports/&quot;</span><span class="p">],</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeShapesByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">,</span> <span class="s2">&quot;beta&quot;</span><span class="p">,</span> <span class="s2">&quot;...&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeShapesByTrait&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nt">&quot;plugins&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;plugin-name&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;plugin-config&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;...&quot;</span><span class="p">:</span> <span class="p">{}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;plugins&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;plugin-name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;plugin-config&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;...&quot;</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="projections">
<span id="id1"></span><h2><a href="#projections">Projections</a></h2>
<p>A projection of a model is a filtered and modified version of a Smithy model
that is intended for specific audiences or customers. Projections are
useful to companies that maintain internal and external versions of an API
or include parameters and operations that are available to only a subset of
their customers.</p>
<p>Projections are defined in the smithy-build.json file in the <code class="docutils literal notranslate"><span class="pre">projections</span></code>
property. Projection names MUST match the following pattern: <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9\-_.]+$</span></code>.</p>
<p>A projection accepts the following configuration:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>abstract</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>Defines the projection as a placeholder that other projections apply.
Smithy will not build artifacts for abstract projections. Abstract
projections must not define <code class="docutils literal notranslate"><span class="pre">imports</span></code> or <code class="docutils literal notranslate"><span class="pre">plugins</span></code>.</td>
</tr>
<tr class="row-odd"><td>imports</td>
<td><code class="docutils literal notranslate"><span class="pre">string[]</span></code></td>
<td>Provides a list of relative imports to include when building this
specific projection. When a directory is encountered, all files and
all files within all subdirectories are imported. Note: imports are
relative to the configuration file.</td>
</tr>
<tr class="row-even"><td>transforms</td>
<td><code class="docutils literal notranslate"><span class="pre">list&lt;Transforms&gt;</span></code></td>
<td>Defines the transformations to apply to the projection.
Transformations are used to remove shapes, remove traits, modify trait
contents, and any other kind of transformation necessary for the
projection. Transforms are applied in the order defined.</td>
</tr>
<tr class="row-odd"><td>plugins</td>
<td><code class="docutils literal notranslate"><span class="pre">map&lt;string,</span> <span class="pre">object&gt;</span></code></td>
<td>Defines the plugins to apply to the model when building this
projection. Plugins are a mapping of plugin names to an arbitrary
plugin configuration object. smithy-build will attempt to resolve
plugin names using <a class="reference external" href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html">Java SPI</a> to locate an instance of <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.build.SmithyBuildPlugin</span></code>
that returns a matching name when calling <code class="docutils literal notranslate"><span class="pre">getName</span></code>. smithy-build will
emit a warning when a plugin cannot be resolved.</td>
</tr>
</tbody>
</table>
<div class="section" id="projection-artifacts">
<span id="id2"></span><h3><a href="#projection-artifacts">Projection artifacts</a></h3>
<p>smithy-build will write artifacts for each projection inside of
<cite>outputDirectory</cite>.</p>
<ul class="simple">
<li>The model that is projected is placed inside of <code class="docutils literal notranslate"><span class="pre">${outputDirectory}/${projectionName}/model/model.json</span></code>.</li>
<li>Build information about the projection build result, including the
configuration of the projection and the validation events encountered when
validating the projected model, are written to <code class="docutils literal notranslate"><span class="pre">${outputDirectory}/${projectionName}/build-info/smithy-build-info.json</span></code>.</li>
<li>All plugin artifacts are written to <code class="docutils literal notranslate"><span class="pre">${outputDirectory}/${projectionName}/${pluginName}/${artifactName}</span></code>,
where <code class="docutils literal notranslate"><span class="pre">${artifactName}</span></code> is the name of an artifact contributed by an
instance of <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.build.SmithyBuildPlugin</span></code>. The relative
path of each artifact is resolved against <code class="docutils literal notranslate"><span class="pre">${outputDirectory}/${projectionName}/${pluginName}/</span></code>.
For example, given an artifact path of <code class="docutils literal notranslate"><span class="pre">foo/baz.json</span></code>, the resolved path
would become <code class="docutils literal notranslate"><span class="pre">${outputDirectory}/${projectionName}/${pluginName}/foo/baz.json</span></code>.</li>
</ul>
</div>
</div>
<div class="section" id="transforms">
<span id="id3"></span><h2><a href="#transforms">Transforms</a></h2>
<p>Transforms are used to filter and modify the model for the projection.
Transforms are applied to the model, in order.</p>
<p>A transform accepts the following configuration:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>The required name of the transform.</td>
</tr>
<tr class="row-odd"><td>args</td>
<td><code class="docutils literal notranslate"><span class="pre">structure</span></code></td>
<td>A structure that contains configuration key-value pairs.</td>
</tr>
</tbody>
</table>
<div class="section" id="apply">
<span id="apply-transform"></span><h3><a href="#apply">apply</a></h3>
<p>Applies the transforms defined in the given projection names.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>projections</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The ordered list of projection names to apply. Each provided
name must be a valid projection name. The transforms of the
referenced projections are applied in the order provided.
No cycles are allowed in <code class="docutils literal notranslate"><span class="pre">apply</span></code>.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-1-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-1-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-1-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;my-abstract-projection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;abstract&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;projection-name&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;imports&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;projection-specific-imports/&quot;</span><span class="p">],</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">},</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;apply&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my-abstract-projection&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="changetypes">
<span id="id4"></span><h3><a href="#changetypes">changeTypes</a></h3>
<p>Changes the types of shapes.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>shapeTypes</td>
<td><code class="docutils literal notranslate"><span class="pre">Map&lt;ShapeId,</span> <span class="pre">String&gt;</span></code></td>
<td>A map of shape IDs to the type to assign to the shape.</td>
</tr>
</tbody>
</table>
<p>Only the following shape type changes are supported:</p>
<ul class="simple">
<li>Any simple type to any other simple type</li>
<li>List to set</li>
<li>Set to list</li>
<li>Structure to union</li>
<li>Union to structure</li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-2-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-2-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-2-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;changeTypes&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;shapeTypes&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;smithy.example#Foo&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;smithy.example#Baz&quot;</span><span class="p">:</span> <span class="s2">&quot;union&quot;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="excludeshapesbytag">
<span id="excludeshapesbytag-transform"></span><h3><a href="#excludeshapesbytag">excludeShapesByTag</a></h3>
<p>Removes shapes if they are tagged with one or more of the given <code class="docutils literal notranslate"><span class="pre">tags</span></code> via
the <a class="reference internal" href="../../spec/core/documentation-traits.html#tags-trait"><span class="std std-ref">tags trait</span></a>.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that causes shapes to be removed.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-3-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-3-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-3-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeShapesByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This transformer does not remove shapes from the prelude.</p>
</div>
</div>
<div class="section" id="excludeshapesbytrait">
<span id="excludeshapesbytrait-transform"></span><h3><a href="#excludeshapesbytrait">excludeShapesByTrait</a></h3>
<p>Removes shapes if they are marked with one or more specific traits.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>traits</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>A list of trait <a class="reference internal" href="../../spec/core/model.html#shape-id"><span class="std std-ref">shape IDs</span></a>. If any of these traits
are found on a shape, the shape is removed from the model. Relative
shape IDs are assumed to be in the <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>
<a class="reference internal" href="../../spec/core/prelude-model.html#prelude"><span class="std std-ref">prelude</span></a> namespace.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-4-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-4-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-4-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeShapesByTrait&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="includeshapesbytag">
<span id="includeshapesbytag-transform"></span><h3><a href="#includeshapesbytag">includeShapesByTag</a></h3>
<p>Removes shapes that are not tagged with at least one of the given <code class="docutils literal notranslate"><span class="pre">tags</span></code>
via the <a class="reference internal" href="../../spec/core/documentation-traits.html#tags-trait"><span class="std std-ref">tags trait</span></a>.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that causes shapes to be retained in the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-5-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-5-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-5-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeShapesByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This transformer does not remove shapes from the prelude.</p>
</div>
</div>
<div class="section" id="includenamespaces">
<span id="includenamespaces-transform"></span><h3><a href="#includenamespaces">includeNamespaces</a></h3>
<p>Filters out shapes that are not part of one of the given <a class="reference internal" href="../../spec/core/idl.html#namespaces"><span class="std std-ref">namespaces</span></a>.
Note that this does not filter out traits based on namespaces.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>namespaces</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The namespaces to include in the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-6-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-6-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-6-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeNamespaces&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;namespaces&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;com.foo.bar&quot;</span><span class="p">,</span> <span class="s2">&quot;my.api&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This transformer does not remove shapes from the prelude.</p>
</div>
</div>
<div class="section" id="includeservices">
<span id="includeservices-transform"></span><h3><a href="#includeservices">includeServices</a></h3>
<p>Filters out service shapes that are not included in the <code class="docutils literal notranslate"><span class="pre">services</span></code> list of
shape IDs.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>services</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The service shape IDs to include in the model. Each entry MUST be
a valid service shape ID.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-7-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-7-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-7-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeServices&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my.api#MyService&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="excludetags">
<span id="excludetags-transform"></span><h3><a href="#excludetags">excludeTags</a></h3>
<p>Removes tags from shapes and trait definitions that match any of the
provided <code class="docutils literal notranslate"><span class="pre">tags</span></code>.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that are removed from the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-8-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-8-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-8-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeTags&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;tagA&quot;</span><span class="p">,</span> <span class="s2">&quot;tagB&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="excludetraits">
<span id="excludetraits-transform"></span><h3><a href="#excludetraits">excludeTraits</a></h3>
<p>Removes trait definitions from a model if the trait name is present in the
provided list of <code class="docutils literal notranslate"><span class="pre">traits</span></code>. Any instance of a removed trait is also removed
from shapes in the model.</p>
<p>The shapes that make up trait definitions that are removed <em>are not</em>
automatically removed from the model. Use <code class="docutils literal notranslate"><span class="pre">removeUnusedShapes</span></code> to remove
orphaned shapes.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>traits</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of traits that are removed from the model. Arguments that
end with &quot;#&quot; exclude the traits of an entire namespace. Trait
shape IDs that are relative are assumed to be part of the
<code class="docutils literal notranslate"><span class="pre">smithy.api</span></code> prelude namespace.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-9-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-9-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-9-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-9-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeTraits&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;since&quot;</span><span class="p">,</span> <span class="s2">&quot;com.foo#customTrait&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>You can exclude all of the traits in a namespace by ending one of the
arguments with &quot;#&quot;. For example, the following configuration excludes
all traits in the &quot;example.foo&quot; namespace:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-10-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-10-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-10-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-10-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeTraits&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;example.foo#&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="excludetraitsbytag">
<span id="excludetraitsbytag-transform"></span><h3><a href="#excludetraitsbytag">excludeTraitsByTag</a></h3>
<p>Removes trait definitions from a model if the trait definition has any of
the provided <a class="reference internal" href="../../spec/core/documentation-traits.html#tags-trait"><span class="std std-ref">tags</span></a>. Any instance of a removed trait is
also removed from shapes in the model.</p>
<p>The shapes that make up trait definitions that are removed <em>are not</em>
automatically removed from the model. Use <code class="docutils literal notranslate"><span class="pre">removeUnusedShapes</span></code> to remove
orphaned shapes.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The list of tags that, if present, cause a trait to be removed.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-11-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-11-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-11-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-11-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeTraitsByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This transformer does not remove shapes from the prelude.</p>
</div>
</div>
<div class="section" id="filtersuppressions">
<span id="filtersuppressions-transform"></span><h3><a href="#filtersuppressions">filterSuppressions</a></h3>
<p>Removes and modifies suppressions found in <a class="reference internal" href="../../spec/core/model-validation.html#suppression-definition"><span class="std std-ref">metadata</span></a>
and the <a class="reference internal" href="../../spec/core/model-validation.html#suppress-trait"><span class="std std-ref">suppress trait</span></a>.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>removeUnused</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td><p class="first">Set to true to remove suppressions that have no effect.</p>
<p>Shapes and validators are often removed when creating a filtered
version of model. After removing shapes and validators, suppressions
could be left in the model that no longer have any effect. These
suppressions could inadvertently disclose information about private
or unreleased features.</p>
<p class="last">If a validation event ID is never emitted, then <code class="docutils literal notranslate"><span class="pre">&#64;suppress</span></code> traits
will be updated to no longer refer to the ID and removed if they no
longer refer to any event. Metadata suppressions are also removed if
they have no effect.</p>
</td>
</tr>
<tr class="row-odd"><td>removeReasons</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>Set to true to remove the <code class="docutils literal notranslate"><span class="pre">reason</span></code> property from metadata suppressions.
The reason for a suppression could reveal internal or sensitive
information. Removing the &quot;reason&quot; from metadata suppressions is an
extra step teams can take to ensure they do not leak internal
information when publishing models outside of their organization.</td>
</tr>
<tr class="row-even"><td>eventIdAllowList</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td><p class="first">Sets a list of event IDs that can be referred to in suppressions.
Suppressions that refer to any other event ID will be updated to
no longer refer to them, or removed if they no longer refer to any
events.</p>
<p class="last">This setting cannot be used in tandem with <code class="docutils literal notranslate"><span class="pre">eventIdDenyList</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td>eventIdDenyList</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td><p class="first">Sets a list of event IDs that cannot be referred to in suppressions.
Suppressions that refer to any of these event IDs will be updated to
no longer refer to them, or removed if they no longer refer to any
events.</p>
<p class="last">This setting cannot be used in tandem with <code class="docutils literal notranslate"><span class="pre">eventIdAllowList</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td>namespaceAllowList</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td><p class="first">Sets a list of namespaces that can be referred to in metadata
suppressions. Metadata suppressions that refer to namespaces
outside of this list, including &quot;*&quot;, will be removed.</p>
<p class="last">This setting cannot be used in tandem with <code class="docutils literal notranslate"><span class="pre">namespaceDenyList</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td>namespaceDenyList</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td><p class="first">Sets a list of namespaces that cannot be referred to in metadata
suppressions. Metadata suppressions that refer to namespaces
in this list, including &quot;*&quot;, will be removed.</p>
<p class="last">This setting cannot be used in tandem with <code class="docutils literal notranslate"><span class="pre">namespaceAllowList</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<p>The following example removes suppressions that have no effect in the
<code class="docutils literal notranslate"><span class="pre">exampleProjection</span></code>:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-12-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-12-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-12-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-12-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;removeUnused&quot;</span><span class="p">:</span> <span class="kc">true</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>The following example removes suppressions from metadata that refer to
deny-listed namespaces:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-13-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-13-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-13-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-13-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;namespaceDenyList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;com.internal&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>The following example removes suppressions from metadata that refer to
namespaces outside of the allow-listed namespaces:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-14-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-14-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-14-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-14-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;namespaceAllowList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;com.external&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>The following example removes suppressions that refer to deny-listed event IDs:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-15-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-15-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-15-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-15-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;eventIdDenyList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;MyInternalValidator&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>The following example removes suppressions that refer to event IDs outside
of the event ID allow list:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-16-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-16-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-16-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-16-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;eventIdAllowList&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>The following example removes the <code class="docutils literal notranslate"><span class="pre">reason</span></code> property from metadata
suppressions:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-17-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-17-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-17-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-17-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;filterSuppressions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;removeReasons&quot;</span><span class="p">:</span> <span class="kc">true</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="includetags">
<span id="includetags-transform"></span><h3><a href="#includetags">includeTags</a></h3>
<p>Removes tags from shapes and trait definitions that are not in the <code class="docutils literal notranslate"><span class="pre">tags</span></code>
list.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that are retained in the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-18-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-18-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-18-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-18-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeTags&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="includetraits">
<span id="includetraits-transform"></span><h3><a href="#includetraits">includeTraits</a></h3>
<p>Removes trait definitions from a model if the trait name is not present in the
provided list of <code class="docutils literal notranslate"><span class="pre">traits</span></code>. Any instance of a removed trait is also removed
from shapes in the model.</p>
<p>The shapes that make up trait definitions that are removed <em>are not</em>
automatically removed from the model. Use <code class="docutils literal notranslate"><span class="pre">removeUnusedShapes</span></code> to remove
orphaned shapes.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>traits</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The list of trait shape IDs to include. A trait ID that ends with &quot;#&quot;
will include all traits from a namespace. Trait shape IDs that are
relative are assumed to be part of the <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>
prelude namespace.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-19-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-19-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-19-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-19-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeTraits&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sensitive&quot;</span><span class="p">,</span> <span class="s2">&quot;com.foo.baz#customTrait&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>You can include all of the traits in a namespace by ending one of the
arguments with &quot;#&quot;. For example, the following configuration includes
all traits in the &quot;smithy.api&quot; namespace:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-20-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-20-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-20-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-20-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeTraits&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;traits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;smithy.api#&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="includetraitsbytag">
<span id="includetraitsbytag-transform"></span><h3><a href="#includetraitsbytag">includeTraitsByTag</a></h3>
<p>Removes trait definitions from a model if the trait definition does not
contain one of the provided <a class="reference internal" href="../../spec/core/documentation-traits.html#tags-trait"><span class="std std-ref">tags</span></a>. Any instance of a
removed trait definition is also removed from shapes in the model.</p>
<p>The shapes that make up trait definitions that are removed <em>are not</em>
automatically removed from the model. Use <code class="docutils literal notranslate"><span class="pre">removeUnusedShapes</span></code> to remove
orphaned shapes.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The list of tags that must be present for a trait to be included
in the filtered model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-21-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-21-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-21-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-21-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeTraitsByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This transformer does not remove shapes from the prelude.</p>
</div>
</div>
<div class="section" id="excludemetadata">
<span id="excludemetadata-transform"></span><h3><a href="#excludemetadata">excludeMetadata</a></h3>
<p>Removes model <a class="reference internal" href="../../spec/core/model.html#metadata"><span class="std std-ref">metadata</span></a> key-value pairs from a model if the
key is in the provided <code class="docutils literal notranslate"><span class="pre">keys</span></code> list.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>keys</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of metadata keys that are removed from the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-22-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-22-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-22-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-22-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;excludeMetadata&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;suppressions&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="includemetadata">
<span id="includemetadata-transform"></span><h3><a href="#includemetadata">includeMetadata</a></h3>
<p>Removes model <a class="reference internal" href="../../spec/core/model.html#metadata"><span class="std std-ref">metadata</span></a> key-value pairs from a model if the
key is not in the provided <code class="docutils literal notranslate"><span class="pre">keys</span></code> list.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>keys</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of metadata keys that are retained in the model.</td>
</tr>
</tbody>
</table>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-23-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-23-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-23-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-23-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeMetadata&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;keys&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;authors&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="flattennamespaces">
<span id="id5"></span><h3><a href="#flattennamespaces">flattenNamespaces</a></h3>
<p>Flattens namespaces of any shapes connected to a service into a target
namespace. Shapes not connected to a service will not be flattened.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>namespace</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><strong>REQUIRED</strong> The target namespace.</td>
</tr>
<tr class="row-odd"><td>service</td>
<td><code class="docutils literal notranslate"><span class="pre">shapeId</span></code></td>
<td><strong>REQUIRED</strong> The service to be flattened. All shapes within this
<a class="reference internal" href="../../spec/core/model.html#service-closure"><span class="std std-ref">service closure</span></a> will be replaced with equivalent
shapes in the target namespace.</td>
</tr>
<tr class="row-even"><td>includeTagged</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that, if found on a shape not connected to the service,
forces the shape to have its namespace flattened into the target
namespace. When additional shapes are included, the shapes are replaced
entirely, along with any references to the shapes which may exist within
separate <a class="reference internal" href="../../spec/core/model.html#service-closure"><span class="std std-ref">service closures</span></a>.</td>
</tr>
</tbody>
</table>
<p>The following example will flatten the namespaces of the shapes connected to
the <code class="docutils literal notranslate"><span class="pre">ns.bar#MyService</span></code> service into the target namespace, <code class="docutils literal notranslate"><span class="pre">ns.foo</span></code>. All
shapes within <a class="reference internal" href="../../spec/core/model.html#service-closure"><span class="std std-ref">service closure</span></a> with be flattened into
the target namespace, including shapes that have been renamed to disambiguate
them through the service shape's <code class="docutils literal notranslate"><span class="pre">rename</span></code> property. Shapes tagged with
<code class="docutils literal notranslate"><span class="pre">baz</span></code> or <code class="docutils literal notranslate"><span class="pre">qux</span></code> will also be flattened into the <code class="docutils literal notranslate"><span class="pre">ns.foo</span></code> namespace, so
long as they don't conflict with a shape within the
<a class="reference internal" href="../../spec/core/model.html#service-closure"><span class="std std-ref">service closure</span></a>.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-24-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-24-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-24-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-24-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;flattenNamespaces&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;namespace&quot;</span><span class="p">:</span> <span class="s2">&quot;ns.foo&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;ns.bar#MyService&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;includeTagged&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;qux&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="removetraitdefinitions">
<span id="removetraitdefinitions-transform"></span><h3><a href="#removetraitdefinitions">removeTraitDefinitions</a></h3>
<p>Removes trait definitions from the model, but leaves the instances of traits
intact on any shapes.</p>
<p>You can <em>export</em> trait definitions by applying specific tags to the trait
definition and adding the list of export tags in the <code class="docutils literal notranslate"><span class="pre">exportTagged</span></code> argument.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>exportTagged</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that, if found on a trait definition, forces the trait
to be retained in the transformed model.</td>
</tr>
</tbody>
</table>
<p>The following example removes trait definitions but keeps the instances of the
trait intact on shapes in the model:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-25-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-25-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-25-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-25-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;removeTraitDefinitions&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;exportTagged&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;export-tag1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;another-export-tag&quot;</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="removeunusedshapes">
<span id="removeunusedshapes-transform"></span><h3><a href="#removeunusedshapes">removeUnusedShapes</a></h3>
<p>Removes shapes from the model that are not connected to any service shape
or to a shape definition.</p>
<p>You can <em>export</em> shapes that are not connected to any service shape by
applying specific tags to the shape and adding the list of export tags in
the <code class="docutils literal notranslate"><span class="pre">exportTagged</span></code> argument.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>exportTagged</td>
<td><code class="docutils literal notranslate"><span class="pre">[string]</span></code></td>
<td>The set of tags that, if found on a shape, forces the shape to be
present in the transformed model regardless of if it was connected
to a service.</td>
</tr>
</tbody>
</table>
<p>The following example removes shapes that are not connected to any service,
but keeps the shape if it has any of the provided tags:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-26-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-26-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-26-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-26-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;removeUnusedShapes&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;exportTagged&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;export-tag1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;another-export-tag&quot;</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
<div class="section" id="renameshapes">
<span id="renameshapes-transform"></span><h3><a href="#renameshapes">renameShapes</a></h3>
<p>Renames shapes within the model, including updating any references to the
shapes that are being renamed.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>renamed</td>
<td><code class="docutils literal notranslate"><span class="pre">Map&lt;shapeId,</span> <span class="pre">shapeId&gt;</span></code></td>
<td>The map of <a class="reference internal" href="../../spec/core/model.html#shape-id"><span class="std std-ref">shape IDs</span></a> to rename. Each key <code class="docutils literal notranslate"><span class="pre">shapeId</span></code> will be
renamed to the value <code class="docutils literal notranslate"><span class="pre">shapeId</span></code>. Each <a class="reference internal" href="../../spec/core/model.html#shape-id"><span class="std std-ref">shape ID</span></a> must be
be an absolute shape ID.</td>
</tr>
</tbody>
</table>
<p>The following example renames the <code class="docutils literal notranslate"><span class="pre">ns.foo#Bar</span></code> shape to <code class="docutils literal notranslate"><span class="pre">ns.foo#Baz</span></code>.
Any references to <code class="docutils literal notranslate"><span class="pre">ns.foo#Bar</span></code> on other shapes will also be updated.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-27-SlNPTg==" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-27-SlNPTg==" name="SlNPTg==" role="tab" tabindex="0">JSON</button></div><div aria-labelledby="tab-27-SlNPTg==" class="sphinx-tabs-panel code-tab group-tab" id="panel-27-SlNPTg==" name="SlNPTg==" role="tabpanel" tabindex="0"><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;exampleProjection&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;renameShapes&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;renamed&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;ns.foo#Bar&quot;</span><span class="p">:</span> <span class="s2">&quot;ns.foo#Baz&quot;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
</div>
</div>
<div class="section" id="environment-variables">
<span id="build-envars"></span><h2><a href="#environment-variables">Environment variables</a></h2>
<p>Strings in <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> files can contain environment variable place
holders that are expanded at load-time into the value of a Java system
property or environment variable. The syntax of a placeholder is
<code class="docutils literal notranslate"><span class="pre">${NAME}</span></code> where &quot;NAME&quot; is the name of the system property or environment
variable. A placeholder can be escaped using a backslash (<code class="docutils literal notranslate"><span class="pre">\</span></code>) before the
&quot;$&quot;. For example, <code class="docutils literal notranslate"><span class="pre">\${FOO}</span></code> expands to the literal string <code class="docutils literal notranslate"><span class="pre">${FOO}</span></code>.
A non-existent system property or environment variable will cause the file
to fail to load. System property values take precedence over environment
variables.</p>
<p>Consider the following <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;${NAME_KEY}&quot;</span><span class="p">:</span> <span class="s2">&quot;includeShapesByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;${FOO}&quot;</span><span class="p">,</span> <span class="s2">&quot;\\${BAZ}&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Assuming that <code class="docutils literal notranslate"><span class="pre">NAME_KEY</span></code> is a system property set to &quot;name&quot;, and <code class="docutils literal notranslate"><span class="pre">FOO</span></code> is an
environment variable set to &quot;hi&quot;, this file is equivalent to:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;projections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;transforms&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;includeShapesByTag&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Hi&quot;</span><span class="p">,</span> <span class="s2">&quot;${BAZ}&quot;</span><span class="p">]</span>
                    <span class="p">}</span>
                 <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="plugins">
<span id="id6"></span><h2><a href="#plugins">Plugins</a></h2>
<p>Plugins are defined in either the top-level &quot;plugins&quot; key-value pair of the
configuration file, or in the &quot;plugins&quot; key-value pair of a projection.
Plugins defined at the top-level of the configuration file are applied to
every projection. Projections that define plugins of the same name as a
top-level plugin completely overwrite the top-level plugin for that projection;
projection settings are not merged in any way.</p>
<p>Plugin names MUST match the following pattern: <code class="docutils literal notranslate"><span class="pre">^[A-Za-z0-9\-_.]+$</span></code>.</p>
<p>smithy-build will attempt to resolve plugin names using <a class="reference external" href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html">Java SPI</a>
to locate an instance of <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.build.SmithyBuildPlugin</span></code>
that matches the given plugin name (via <code class="docutils literal notranslate"><span class="pre">matchesPluginName</span></code>). smithy-build
will log a warning when a plugin cannot be resolved.</p>
<p>smithy-build DOES NOT attempt to automatically download and install plugins.
Plugins MUST be available in the Java class path or module path in order for
them to be discovered.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">model</span></code>, <code class="docutils literal notranslate"><span class="pre">build-info</span></code>, and <code class="docutils literal notranslate"><span class="pre">sources</span></code> plugins are plugins that are
always run in every non-abstract projection.</p>
<div class="section" id="model-plugin">
<span id="id7"></span><h3><a href="#model-plugin">model plugin</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">model</span></code> plugin serializes a self-contained and filtered version of the
model as a single file. All of the dependencies of the model are included
in the file.</p>
</div>
<div class="section" id="build-info-plugin">
<span id="id8"></span><h3><a href="#build-info-plugin">build-info plugin</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">build-info</span></code> plugin produces a JSON document that contains information
about the projection and model.</p>
</div>
<div class="section" id="sources-plugin">
<span id="id9"></span><h3><a href="#sources-plugin">sources plugin</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">sources</span></code> plugin copies the source models and creates a manifest.
When building the <code class="docutils literal notranslate"><span class="pre">source</span></code> projection, the models that were used to build the
model are copied over literally. When a JAR is used as a source model, the
Smithy models contained within the JAR are copied as a source model while the
JAR itself is not copied. If there are no source models, an empty manifest is
created.</p>
<p>When building projections other than <code class="docutils literal notranslate"><span class="pre">source</span></code>, a new model file is created
that contains only the shapes, trait definitions, and metadata that were
defined in a source model <em>and</em> all of the newly added shapes, traits, and
metadata.</p>
<p>The manifest file is a newline (<code class="docutils literal notranslate"><span class="pre">\n</span></code>) separated file that contains the
relative path from the manifest file to each model file created by the
sources plugin. Lines that start with a number sign (#) are comments and are
ignored. A Smithy manifest file is stored in a JAR as <code class="docutils literal notranslate"><span class="pre">META-INF/smithy/manifest</span></code>.
All model files referenced by the manifest are relative to <code class="docutils literal notranslate"><span class="pre">META-INF/smithy/</span></code>.</p>
</div>
</div>
</div>


                    
                    <section class="relations">
                        
                        <a href="gradle-plugin.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê Smithy Gradle Plugin</a>
                        
                        <a href="../model-linters.html" title="next chapter" class="next-page clearfix">Model linters ‚Üí</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="gradle-plugin.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê Prev</a>
                                
                                <a href="../model-linters.html" title="next chapter" class="next-page clearfix">Next ‚Üí</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">smithy-build</a><ul>
<li><a class="reference internal" href="#using-smithy-build-json">Using <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code></a></li>
<li><a class="reference internal" href="#projections">Projections</a><ul>
<li><a class="reference internal" href="#projection-artifacts">Projection artifacts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#transforms">Transforms</a><ul>
<li><a class="reference internal" href="#apply">apply</a></li>
<li><a class="reference internal" href="#changetypes">changeTypes</a></li>
<li><a class="reference internal" href="#excludeshapesbytag">excludeShapesByTag</a></li>
<li><a class="reference internal" href="#excludeshapesbytrait">excludeShapesByTrait</a></li>
<li><a class="reference internal" href="#includeshapesbytag">includeShapesByTag</a></li>
<li><a class="reference internal" href="#includenamespaces">includeNamespaces</a></li>
<li><a class="reference internal" href="#includeservices">includeServices</a></li>
<li><a class="reference internal" href="#excludetags">excludeTags</a></li>
<li><a class="reference internal" href="#excludetraits">excludeTraits</a></li>
<li><a class="reference internal" href="#excludetraitsbytag">excludeTraitsByTag</a></li>
<li><a class="reference internal" href="#filtersuppressions">filterSuppressions</a></li>
<li><a class="reference internal" href="#includetags">includeTags</a></li>
<li><a class="reference internal" href="#includetraits">includeTraits</a></li>
<li><a class="reference internal" href="#includetraitsbytag">includeTraitsByTag</a></li>
<li><a class="reference internal" href="#excludemetadata">excludeMetadata</a></li>
<li><a class="reference internal" href="#includemetadata">includeMetadata</a></li>
<li><a class="reference internal" href="#flattennamespaces">flattenNamespaces</a></li>
<li><a class="reference internal" href="#removetraitdefinitions">removeTraitDefinitions</a></li>
<li><a class="reference internal" href="#removeunusedshapes">removeUnusedShapes</a></li>
<li><a class="reference internal" href="#renameshapes">renameShapes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li><a class="reference internal" href="#plugins">Plugins</a><ul>
<li><a class="reference internal" href="#model-plugin">model plugin</a></li>
<li><a class="reference internal" href="#build-info-plugin">build-info plugin</a></li>
<li><a class="reference internal" href="#sources-plugin">sources plugin</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>¬©2021, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>