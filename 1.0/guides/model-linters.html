
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Model linters &#8212; Smithy 1.0 documentation</title><link rel="stylesheet" href="../../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" href="../../_static/custom-tabs.css" type="text/css" />

    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script type="text/javascript" src="../../_static/smithy.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Evolving Models" href="evolving-models.html" />
    <link rel="prev" title="smithy-build" href="building-models/build-config.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="smithy-version" content="1.0">

  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../../index.html">
                    <span class="logo-icon">üî®Ô∏è</span><span class="logo-text">Smithy</span>
                </a>
                <span class="version-text">1.0</span>
            </div>
            <ul id="page-navigation">
                <li class="site-page first"><a href="../../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../spec/index.html">Specifications</a></li>
                <li class="site-page"><a href="index.html">Guides</a></li>
                <li class="site-page"><a href="https://github.com/awslabs/smithy">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article class="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="index.html" accesskey="U">Smithy Guides</a></li>
                    </ul>
                    
                    
  <div class="section" id="model-linters">
<h1><a href="#model-linters">Model linters</a></h1>
<p>This guide describes how to apply optional linters to a Smithy model.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#linting-overview" id="id10">Linting overview</a></li>
<li><a class="reference internal" href="#linters-in-smithy-linters" id="id11">Linters in <code class="docutils literal notranslate"><span class="pre">smithy-linters</span></code></a><ul>
<li><a class="reference internal" href="#abbreviationname" id="id12">AbbreviationName</a></li>
<li><a class="reference internal" href="#camelcase" id="id13">CamelCase</a></li>
<li><a class="reference internal" href="#noninclusiveterms" id="id14">NoninclusiveTerms</a></li>
<li><a class="reference internal" href="#reservedwords" id="id15">ReservedWords</a></li>
<li><a class="reference internal" href="#standardoperationverb" id="id16">StandardOperationVerb</a></li>
<li><a class="reference internal" href="#repeatedshapename" id="id17">RepeatedShapeName</a></li>
<li><a class="reference internal" href="#inputoutputstructurereuse" id="id18">InputOutputStructureReuse</a></li>
<li><a class="reference internal" href="#missingpaginatedtrait" id="id19">MissingPaginatedTrait</a></li>
<li><a class="reference internal" href="#shouldhaveusedtimestamp" id="id20">ShouldHaveUsedTimestamp</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-custom-validators" id="id21">Writing custom validators</a></li>
<li><a class="reference internal" href="#writing-custom-linters" id="id22">Writing custom Linters</a></li>
</ul>
</div>
<div class="section" id="linting-overview">
<h2><a href="#linting-overview">Linting overview</a></h2>
<p>A <em>linter</em> is a special kind of <a class="reference internal" href="../spec/core/model-validation.html#validation"><span class="std std-ref">model validator</span></a>
that is configurable. Linter implementations are found in code. The
<a class="reference external" href="https://search.maven.org/artifact/software.amazon.smithy/smithy-linters">smithy-linters</a> package in Maven Central contains several linters that
can be used to apply additional validation to Smithy models.</p>
<p>The following example adds <code class="docutils literal notranslate"><span class="pre">smithy-linters</span></code> as a Gradle dependency
to a <code class="docutils literal notranslate"><span class="pre">build.gradle.kts</span></code> file:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-S290bGlu" aria-selected="true" class="sphinx-tabs-tab code-tab group-tab" id="tab-0-S290bGlu" name="S290bGlu" role="tab" tabindex="0">Kotlin</button></div><div aria-labelledby="tab-0-S290bGlu" class="sphinx-tabs-panel code-tab group-tab" id="panel-0-S290bGlu" name="S290bGlu" role="tabpanel" tabindex="0"><div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span> <span class="p">{</span>
    <span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-model:1.21.0&quot;</span><span class="p">)</span>
    <span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-linters:1.21.0&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div>
<p>After the dependency is added and available on the Java classpath, validators
defined in the package and registered using <a class="reference external" href="https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html">Java SPI</a> are available for
use in Smithy models.</p>
</div>
<div class="section" id="linters-in-smithy-linters">
<h2><a href="#linters-in-smithy-linters">Linters in <code class="docutils literal notranslate"><span class="pre">smithy-linters</span></code></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">smithy-linters</span></code> package defines the following linters.</p>
<div class="section" id="abbreviationname">
<span id="id1"></span><h3><a href="#abbreviationname">AbbreviationName</a></h3>
<p>Validates that shape names and member names do not represent abbreviations
with all uppercase letters. For example, instead of using &quot;XMLRequest&quot; or
&quot;instanceID&quot;, this validator recommends using &quot;XmlRequest&quot; and &quot;instanceId&quot;.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Using a strict form of camelCase where abbreviations are written just
like other words makes names more predictable and easier to work with
in tooling. For example, a tool that generates code in Python might wish
to represent camelCase words using snake_case; utilizing strict camel
casing makes it easier to split words apart.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>allowedAbbreviations</td>
<td>[ <code class="docutils literal notranslate"><span class="pre">string</span></code> ]</td>
<td>A case-insensitive list of abbreviations to allow to be all capital
letters. Defaults to an empty list.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[<span class="w"></span>
<span class="w">    </span>{<span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;AbbreviationName&quot;</span>}<span class="w"></span>
]<span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="camelcase">
<span id="id2"></span><h3><a href="#camelcase">CamelCase</a></h3>
<p>Validates that shape names and member names adhere to a consistent style of
camel casing. By default, this validator will ensure that shape names use
UpperCamelCase, trait shape names use lowerCamelCase, and that member names
use lowerCamelCase.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Utilizing a consistent camelCase style makes it easier to understand a
model and can lead to consistent naming in code generated from Smithy
models.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>memberNames</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Specifies the camelCase style of member names. Can be set to either
&quot;upper&quot; or &quot;lower&quot; (the default).</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[<span class="w"></span>
<span class="w">    </span>{<span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;CamelCase&quot;</span>}<span class="w"></span>
]<span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="noninclusiveterms">
<span id="id3"></span><h3><a href="#noninclusiveterms">NoninclusiveTerms</a></h3>
<p>Validates that all text content in a model (i.e. shape names, member names,
documentation, trait values, etc.) does not contain words that perpetuate cultural
biases. This validator has a built-in set of bias terms that are commonly found
in APIs along with suggested alternatives.</p>
<p>Noninclusive terms are case-insensitively substring matched and can have any
number of leading or trailing whitespace or non-whitespace characters.</p>
<p>This validator has built-in mappings from noninclusive terms to match model
text to suggested alternatives. The configuration allows for additional terms
to suggestions mappings to either override or append the built-in mappings. If
a match occurs and the suggested alternatives is empty, no suggestion is made
in the generated warning message.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Intent doesn't always match impact. The use of noninclusive language like
&quot;whitelist&quot; and &quot;blacklist&quot; perpetuates bias through past association of
acceptance and denial based on skin color. Other words should be used that
are not only inclusive, but more clearly communicate meaning. Words like
allowList and denyList much more clearly indicate that something is
allowed or denied.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">WARNING</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>terms</td>
<td>{ <code class="docutils literal notranslate"><span class="pre">keyword</span></code> -&gt; [ <code class="docutils literal notranslate"><span class="pre">alternatives</span></code> ] }</td>
<td>A set of noninclusive terms to suggestions to either override or replace
the built-in mappings. This property is not required unless
<code class="docutils literal notranslate"><span class="pre">excludeDefaults</span></code> is true. The default value is the empty set.</td>
</tr>
<tr class="row-odd"><td>excludeDefaults</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>A flag indicating whether or not the mappings set specified by <code class="docutils literal notranslate"><span class="pre">terms</span></code>
configuration replaces the built-in set or appends additional mappings.
This property is not required and defaults to false.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[{<span class="w"></span>
<span class="w">    </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;NoninclusiveTerms&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nl">configuration:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">excludeDefaults:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">terms:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">            </span><span class="nl">mankind:</span><span class="w"> </span>[<span class="s2">&quot;humankind&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nl">mailman:</span><span class="w"> </span>[<span class="s2">&quot;mail carrier&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;postal worker&quot;</span>]<span class="w"></span>
<span class="w">        </span>}<span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
}]<span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="reservedwords">
<span id="id4"></span><h3><a href="#reservedwords">ReservedWords</a></h3>
<p>Validates that shape names and member names do not match a configured set of
reserved words.</p>
<p>Reserved words are compared in a case-insensitive manner via substring match
and support a leading and trailing wildcard character, &quot;*&quot;. See
<a class="reference internal" href="#reserved-words-wildcards"><span class="std std-ref">wildcard evaluation</span></a> for more detail.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Tools that generate code from Smithy models SHOULD automatically convert
reserved words into symbols that are safe to use in the targeted
programming language. This validator can be used to warn about these
conversions as well as to prevent sensitive words, like internal
code-names, from appearing in public artifacts.</dd>
<dt>Default Severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><p>A single key, <code class="docutils literal notranslate"><span class="pre">reserved</span></code>, is <strong>Required</strong> in the configuration. Its
value is a list of objects with the following properties:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>words</td>
<td>[ <code class="docutils literal notranslate"><span class="pre">string</span></code> ]</td>
<td><strong>Required</strong>. A list of words that shape or member names MUST not
case-insensitively match. Supports only the leading and trailing
wildcard character of &quot;*&quot;.</td>
</tr>
<tr class="row-odd"><td>selector</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><p class="first">Specifies a selector of shapes to validate for this configuration.
Defaults to validating all shapes, including member names.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When evaluating member shapes, the <em>member name</em> will be
evaluated instead of the shape name.</p>
</div>
</td>
</tr>
<tr class="row-even"><td>reason</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A reason to display for why this set of words is reserved.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[{<span class="w"></span>
<span class="w">    </span><span class="nl">id:</span><span class="w"> </span><span class="s2">&quot;FooReservedWords&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;ReservedWords&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nl">configuration:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">reserved:</span><span class="w"> </span>[<span class="w"></span>
<span class="w">            </span>{<span class="w"></span>
<span class="w">                </span><span class="nl">words:</span><span class="w"> </span>[<span class="s2">&quot;Codename&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nl">reason:</span><span class="w"> </span><span class="s2">&quot;This is the internal project name.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span>}<span class="p">,</span><span class="w"></span>
<span class="w">        </span>]<span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
}]<span class="w"></span>
</pre></div>
</div>
<div class="section" id="wildcards-in-reservedwords">
<span id="reserved-words-wildcards"></span><h4><a href="#wildcards-in-reservedwords">Wildcards in ReservedWords</a></h4>
<p>The ReservedWords validator allows leading and trailing wildcard characters to
be specified.</p>
<ul>
<li><p class="first">Using both a leading and trailing wildcard indicates that shape or member
names match when case-insensitively <strong>containing</strong> the word. The following
table shows matches for a reserved word of <code class="docutils literal notranslate"><span class="pre">*codename*</span></code>:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Create<strong>Codename</strong>Input</td>
<td>Match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong>Resource</td>
<td>Match</td>
</tr>
<tr class="row-even"><td>Referenced<strong>Codename</strong></td>
<td>Match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong></td>
<td>Match</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Using a leading wildcard indicates that shape or member names match when
case-insensitively <strong>ending with</strong> the word. The following table shows
matches for a reserved word of <code class="docutils literal notranslate"><span class="pre">*codename</span></code>:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CreateCodenameInput</td>
<td>No match</td>
</tr>
<tr class="row-odd"><td>CodenameResource</td>
<td>No match</td>
</tr>
<tr class="row-even"><td>Referenced<strong>Codename</strong></td>
<td>Match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong></td>
<td>Match</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Using a trailing wildcard indicates that shape or member names match when
case-insensitively <strong>starting with</strong> the word. The following table shows
matches for a reserved word of <code class="docutils literal notranslate"><span class="pre">codename*</span></code>:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CreateCodenameInput</td>
<td>No match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong>Resource</td>
<td>Match</td>
</tr>
<tr class="row-even"><td>ReferencedCodename</td>
<td>No Match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong></td>
<td>Match</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Using no wildcards indicates that shape or member names match when
case-insensitively <strong>the same as</strong> the word. The following table shows
matches for a reserved word of <code class="docutils literal notranslate"><span class="pre">codename</span></code>:</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="75%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CreateCodenameInput</td>
<td>No match</td>
</tr>
<tr class="row-odd"><td>CodenameResource</td>
<td>No match</td>
</tr>
<tr class="row-even"><td>ReferencedCodename</td>
<td>No match</td>
</tr>
<tr class="row-odd"><td><strong>Codename</strong></td>
<td>Match</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="section" id="standardoperationverb">
<span id="id5"></span><h3><a href="#standardoperationverb">StandardOperationVerb</a></h3>
<p>Looks at each operation shape name and determines if the first word in the
operation shape name is one of the defined standard verbs or if it is a verb
that has better alternatives.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Operations names MUST use a verb as the first word in the shape name
in order for this validator to properly function.</p>
</div>
<dl class="docutils">
<dt>Rationale</dt><dd>Using consistent verbs for operation shape names helps consumers of the
API to more easily understand the semantics of an operation.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>verbs</td>
<td>[ <code class="docutils literal notranslate"><span class="pre">string</span></code> ]</td>
<td>The list of verbs that each operation shape name MUST start with.</td>
</tr>
<tr class="row-odd"><td>prefixes</td>
<td>[ <code class="docutils literal notranslate"><span class="pre">string</span></code> ]</td>
<td>A list of prefixes that MAY come before one of the valid verbs.
Prefixes are often used to group families of operations under a
common prefix (e.g., <code class="docutils literal notranslate"><span class="pre">batch</span></code> might be a common prefix in some
organizations). Only a single prefix is honored.</td>
</tr>
<tr class="row-even"><td>suggestAlternatives</td>
<td><code class="docutils literal notranslate"><span class="pre">object</span></code></td>
<td>Used to recommend alternative verbs. Each key is the name of a verb
that should be changed, and each value is a list of suggested
verbs to use instead.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At least one <code class="docutils literal notranslate"><span class="pre">verb</span></code> or one <code class="docutils literal notranslate"><span class="pre">suggestAlternatives</span></code> key-value pair MUST
be provided.</p>
</div>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[{<span class="w"></span>
<span class="w">    </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;StandardOperationVerb&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nl">configuration:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">verbs:</span><span class="w"> </span>[<span class="s2">&quot;Register&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Deregister&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Associate&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">prefixes:</span><span class="w"> </span>[<span class="s2">&quot;Batch&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">suggestAlternatives:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">            </span><span class="s2">&quot;Make&quot;</span><span class="p">:</span><span class="w"> </span>[<span class="s2">&quot;Create&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="s2">&quot;Transition&quot;</span><span class="p">:</span><span class="w"> </span>[<span class="s2">&quot;Update&quot;</span>]<span class="p">,</span><span class="w"></span>
<span class="w">        </span>}<span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
}]<span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="repeatedshapename">
<span id="stutteredshapename"></span><span id="id6"></span><h3><a href="#repeatedshapename">RepeatedShapeName</a></h3>
<p>Validates that <a class="reference internal" href="../spec/core/model.html#structure"><span class="std std-ref">Structure</span></a> member names and <a class="reference internal" href="../spec/core/model.html#union"><span class="std std-ref">Union</span></a> member
names do not case-insensitively repeat their container shape names.</p>
<p>As an example, if a structure named &quot;Table&quot; contained a member named
&quot;TableName&quot;, then this validator would emit a WARNING event.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Repeating a shape name in the members of identifier of the shape is
redundant.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">WARNING</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>exactMatch</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>If set to true, the validator will only warn if the member name
is case-insensitively identical to the containing shape's name.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="inputoutputstructurereuse">
<span id="id7"></span><h3><a href="#inputoutputstructurereuse">InputOutputStructureReuse</a></h3>
<p>Validates that every operation defines a dedicated input and output shape
marked with the <a class="reference internal" href="../spec/core/type-refinement-traits.html#input-trait"><span class="std std-ref">input trait</span></a> and <a class="reference internal" href="../spec/core/type-refinement-traits.html#output-trait"><span class="std std-ref">output trait</span></a>.</p>
<dl class="docutils">
<dt>Rationale</dt><dd><ol class="arabic simple">
<li>Using the same structure for both input and output can lead to
backward-compatibility problems in the future if the members or traits
used in input needs to diverge from those used in output. It is always
better to use structures that are exclusively used as input or exclusively
used as output.</li>
<li>Referencing the same input or output structure from multiple operations
can lead to backward-compatibility problems in the future if the
inputs or outputs of the operations ever need to diverge. By using the
same structure, you are unnecessarily tying the interfaces of these
operations together.</li>
</ol>
</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
</dl>
</div>
<div class="section" id="missingpaginatedtrait">
<span id="id8"></span><h3><a href="#missingpaginatedtrait">MissingPaginatedTrait</a></h3>
<p>Checks for operations that look like they should be paginated but do not
have the <a class="reference internal" href="../spec/core/behavior-traits.html#paginated-trait"><span class="std std-ref">paginated trait</span></a>.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Paginating operations that can return potentially unbounded lists of
data helps to maintain a predictable SLA and helps to prevent operational
issues in the future.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>verbsRequirePagination</td>
<td>[<code class="docutils literal notranslate"><span class="pre">string</span></code>]</td>
<td>Defines the case-insensitive operation verb prefixes for operations
that MUST be paginated. A <code class="docutils literal notranslate"><span class="pre">DANGER</span></code> event is emitted for any
operation that has a shape name that starts with one of these verbs.
Defaults to <code class="docutils literal notranslate"><span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;search&quot;]</span></code>.</td>
</tr>
<tr class="row-odd"><td>verbsSuggestPagination</td>
<td>[<code class="docutils literal notranslate"><span class="pre">string</span></code>]</td>
<td>Defines the case-insensitive operation verb prefixes for operations
that SHOULD be paginated. A <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> event is emitted when an
operation is found that matches one of these prefixes, the operation
has output, and the output contains at least one top-level member
that targets a <a class="reference internal" href="../spec/core/model.html#list"><span class="std std-ref">List</span></a>. Defaults to <code class="docutils literal notranslate"><span class="pre">[&quot;describe&quot;,</span> <span class="pre">&quot;get&quot;]</span></code></td>
</tr>
<tr class="row-even"><td>inputMembersRequirePagination</td>
<td>[<code class="docutils literal notranslate"><span class="pre">string</span></code>]</td>
<td>Defines the case-insensitive operation input member names that
indicate that an operation MUST be paginated. A <code class="docutils literal notranslate"><span class="pre">DANGER</span></code> event
is emitted if an operation is found to have an input member name
that case-insensitively matches one of these member names.
Defaults to <code class="docutils literal notranslate"><span class="pre">[&quot;maxResults&quot;,</span> <span class="pre">&quot;pageSize&quot;,</span> <span class="pre">&quot;limit&quot;,</span> <span class="pre">&quot;nextToken&quot;,</span> <span class="pre">&quot;pageToken&quot;,</span> <span class="pre">&quot;token&quot;]</span></code></td>
</tr>
<tr class="row-odd"><td>outputMembersRequirePagination</td>
<td>[<code class="docutils literal notranslate"><span class="pre">string</span></code>]</td>
<td>Defines the case-insensitive operation output member names that
indicate that an operation MUST be paginated. A <code class="docutils literal notranslate"><span class="pre">DANGER</span></code> event
is emitted if an operation is found to have an output member name
that case-insensitively matches one of these member names.
Defaults to <code class="docutils literal notranslate"><span class="pre">[&quot;nextToken&quot;,</span> <span class="pre">&quot;pageToken&quot;,</span> <span class="pre">&quot;token&quot;,</span> <span class="pre">&quot;marker&quot;,</span> <span class="pre">&quot;nextPage&quot;]</span></code>.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[<span class="w"></span>
<span class="w">    </span>{<span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;MissingPaginatedTrait&quot;</span>}<span class="w"></span>
]<span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="shouldhaveusedtimestamp">
<span id="id9"></span><h3><a href="#shouldhaveusedtimestamp">ShouldHaveUsedTimestamp</a></h3>
<p>Looks for shapes that likely represent time, but that do not use a
timestamp shape.</p>
<p>The ShouldHaveUsedTimestamp validator checks the following names:</p>
<ul class="simple">
<li>string shape names</li>
<li>short, integer, long, float, and double shape names</li>
<li>structure member names</li>
<li>union member names</li>
</ul>
<p>The ShouldHaveUsedTimestamp validator checks each of the above names to see if
they likely represent a time value. If a name does look like a time value,
the shape or targeted shape MUST be a timestamp shape.</p>
<p>A name is assumed to represent a time value if it:</p>
<ul class="simple">
<li>Begins or ends with the word &quot;time&quot;</li>
<li>Begins or ends with the word &quot;date&quot;</li>
<li>Ends with the word &quot;at&quot;</li>
<li>Ends with the word &quot;on&quot;</li>
<li>Contains the exact string &quot;timestamp&quot; or &quot;Timestamp&quot;</li>
</ul>
<p>For the purpose of this validator, words are matched case insensitively. Words
are separated by either an underscore character, or by mixed case characters.
For example, &quot;FooBar&quot;, &quot;fooBar&quot;, &quot;foo_bar&quot;, &quot;Foo_Bar&quot;, and &quot;FOO_BAR&quot; all
contain the same two words, &quot;foo&quot; and &quot;bar&quot;.</p>
<dl class="docutils">
<dt>Rationale</dt><dd>Smithy tooling can convert timestamp shapes into idiomatic language types
that make them easier to work with in client tooling.</dd>
<dt>Default severity</dt><dd><code class="docutils literal notranslate"><span class="pre">DANGER</span></code></dd>
<dt>Configuration</dt><dd><table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>additionalPatterns</td>
<td>[ <code class="docutils literal notranslate"><span class="pre">string</span></code> ]</td>
<td>A list of regular expression patterns that identify names that
represent time.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
<div class="section" id="writing-custom-validators">
<h2><a href="#writing-custom-validators">Writing custom validators</a></h2>
<p>Custom validators can be written in Java to apply more advanced model validation.
Writing a custom validator involves writing an implementation of a
Smithy validator in Java, creating a JAR, and making the JAR available on the
classpath.</p>
<p>Custom validators are implementations of the
<code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.Validator</span></code> interface. Most
validators should extend from <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.AbstractValidator</span></code>.</p>
<p>The following linter emits a <code class="docutils literal notranslate"><span class="pre">ValidationEvent</span></code> for every shape in the
model that is not documented.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.example.mypackage</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.Model</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.traits.DocumentationTrait</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.validation.AbstractValidator</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.validation.ValidationEvent</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DocumentationValidator</span> <span class="kd">extends</span> <span class="n">AbstractValidator</span> <span class="p">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ValidationEvent</span><span class="o">&gt;</span> <span class="nf">validate</span><span class="p">(</span><span class="n">Model</span> <span class="n">model</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">model</span><span class="p">.</span><span class="na">shapes</span><span class="p">()</span>
                <span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">shape</span> <span class="o">-&gt;</span> <span class="o">!</span><span class="n">shape</span><span class="p">.</span><span class="na">hasTrait</span><span class="p">(</span><span class="n">DocumentationTrait</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
                <span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">shape</span> <span class="o">-&gt;</span> <span class="n">error</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="s">&quot;This shape is not documented!&quot;</span><span class="p">))</span>
                <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Validators need to be registered as Java service providers. Add the following
class name to a file named <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.Validator</span></code>
found in the <code class="docutils literal notranslate"><span class="pre">src/main/resources/META-INF/services</span></code> directory of a standard Gradle
Java package:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>com.example.mypackage.DocumentationValidator
</pre></div>
</div>
<p>When added to the classpath (typically as a dependency of a published JAR),
the custom validator is automatically applied to a model each time the
model is loaded.</p>
</div>
<div class="section" id="writing-custom-linters">
<h2><a href="#writing-custom-linters">Writing custom Linters</a></h2>
<p>Like custom validators, custom linters can be written in Java to apply more
advanced model validation.</p>
<p>Custom linters are implementations of the
<code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.Validator</span></code> interface. Because
linters are configurable, they are created using an implementation of the
<code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.ValidatorService</span></code> interface.</p>
<p>The following validator emits a <code class="docutils literal notranslate"><span class="pre">ValidationEvent</span></code> for every shape in the
model that has documentation that contains a forbidden string.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.example.mypackage</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Stream</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.Model</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.node.NodeMapper</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.shapes.Shape</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.traits.DocumentationTrait</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.validation.AbstractValidator</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.validation.ValidationEvent</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">software.amazon.smithy.model.validation.ValidatorService</span><span class="p">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ForbiddenDocumentationValidator</span> <span class="kd">extends</span> <span class="n">AbstractValidator</span> <span class="p">{</span>

    <span class="cm">/**</span>
<span class="cm">     * ForbiddenDocumentation configuration settings.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Config</span> <span class="p">{</span>
        <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">forbid</span><span class="p">;</span>

        <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getForbid</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">forbid</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setForbid</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">forbid</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="na">forbid</span> <span class="o">=</span> <span class="n">forbid</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Does the actual work of converting metadata found in a Smithy</span>
    <span class="c1">// model into an actual implementation of a Validator.</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Provider</span> <span class="kd">extends</span> <span class="n">ValidatorService</span><span class="p">.</span><span class="na">Provider</span> <span class="p">{</span>
        <span class="kd">public</span> <span class="nf">Provider</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">super</span><span class="p">(</span><span class="n">ForbiddenDocumentationValidator</span><span class="p">.</span><span class="na">class</span><span class="p">,</span> <span class="n">configuration</span> <span class="o">-&gt;</span> <span class="p">{</span>
                <span class="c1">// Deserialize the Node value into the Config POJO.</span>
                <span class="n">NodeMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NodeMapper</span><span class="p">();</span>
                <span class="n">ForbiddenDocumentationValidator</span><span class="p">.</span><span class="na">Config</span> <span class="n">config</span> <span class="o">=</span> <span class="n">mapper</span><span class="p">.</span><span class="na">deserialize</span><span class="p">(</span><span class="n">configuration</span><span class="p">,</span> <span class="n">Config</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
                <span class="k">return</span> <span class="k">new</span> <span class="n">ForbiddenDocumentationValidator</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">forbid</span><span class="p">;</span>

    <span class="c1">// The constructor is private since the validator is only intended to</span>
    <span class="c1">// be created when loading a model via the Provider class.</span>
    <span class="kd">private</span> <span class="nf">ForbiddenDocumentationValidator</span><span class="p">(</span><span class="n">Config</span> <span class="n">config</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">forbid</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="na">forbid</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ValidationEvent</span><span class="o">&gt;</span> <span class="nf">validate</span><span class="p">(</span><span class="n">Model</span> <span class="n">model</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Find every shape that violates the linter and return a list</span>
        <span class="c1">// of ValidationEvents.</span>
        <span class="k">return</span> <span class="n">model</span><span class="p">.</span><span class="na">shapes</span><span class="p">()</span>
                <span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">shape</span> <span class="o">-&gt;</span> <span class="n">shape</span><span class="p">.</span><span class="na">hasTrait</span><span class="p">(</span><span class="n">DocumentationTrait</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
                <span class="p">.</span><span class="na">flatMap</span><span class="p">(</span><span class="n">shape</span> <span class="o">-&gt;</span> <span class="n">validateShape</span><span class="p">(</span><span class="n">shape</span><span class="p">).</span><span class="na">map</span><span class="p">(</span><span class="n">Stream</span><span class="p">::</span><span class="n">of</span><span class="p">).</span><span class="na">orElseGet</span><span class="p">(</span><span class="n">Stream</span><span class="p">::</span><span class="n">empty</span><span class="p">))</span>
                <span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">ValidationEvent</span><span class="o">&gt;</span> <span class="nf">validateShape</span><span class="p">(</span><span class="n">Shape</span> <span class="n">shape</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Grab the trait by type.</span>
        <span class="n">DocumentationTrait</span> <span class="n">trait</span> <span class="o">=</span> <span class="n">shape</span><span class="p">.</span><span class="na">expectTrait</span><span class="p">(</span><span class="n">DocumentationTrait</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="n">String</span> <span class="n">docString</span> <span class="o">=</span> <span class="n">trait</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">text</span> <span class="p">:</span> <span class="n">forbid</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">docString</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="n">text</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">// Emit an event that points at the location of the trait</span>
                <span class="c1">// and associates the warning with the shape.</span>
                <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">warning</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="s">&quot;Documentation uses forbidden text: &quot;</span> <span class="o">+</span> <span class="n">text</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">Optional</span><span class="p">.</span><span class="na">empty</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Configurable linters need to be registered as Java service providers. Add the following
class name to a file named <code class="docutils literal notranslate"><span class="pre">software.amazon.smithy.model.validation.ValidatorService</span></code>
found in the <code class="docutils literal notranslate"><span class="pre">src/main/resources/META-INF/services</span></code> directory of a standard Gradle
Java package:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>com.example.mypackage.ForbiddenDocumentationValidator$Provider
</pre></div>
</div>
<p>When added to the classpath (typically as a dependency of a published JAR),
the custom validator is available to be used as a validator. The following
example warns each time the word &quot;meow&quot; appears in documentation:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[<span class="w"></span>
<span class="w">    </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;ForbiddenDocumentation&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">configuration:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">            </span><span class="nl">forbid:</span><span class="w"> </span>[<span class="s2">&quot;meow&quot;</span>]<span class="w"></span>
<span class="w">        </span>}<span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
]<span class="w"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The <a class="reference internal" href="../spec/core/model-validation.html#emiteachselector"><span class="std std-ref">EmitEachSelector</span></a> can get you pretty far without needing to
write any Java code. For example, the above linter can be implemented
using the following Smithy model:</p>
<div class="last highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="nc"> &quot;1.0&quot;</span><span class="w"></span>

<span class="kd">metadata</span><span class="nc"> validators </span><span class="nd">=</span><span class="w"> </span>[<span class="w"></span>
<span class="w">    </span>{<span class="w"></span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;EmitEachSelector&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">id:</span><span class="w"> </span><span class="s2">&quot;ForbiddenDocumentation&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">message:</span><span class="w"> </span><span class="s2">&quot;Documentation uses forbidden text&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nl">configuration:</span><span class="w"> </span>{<span class="w"></span>
<span class="w">            </span><span class="nl">selector:</span><span class="w"> </span><span class="s2">&quot;[trait|documentation*=&#39;meow&#39;]&quot;</span><span class="w"></span>
<span class="w">        </span>}<span class="w"></span>
<span class="w">    </span>}<span class="w"></span>
]<span class="w"></span>
</pre></div>
</div>
</div>
</div>
</div>


                    
                    <section class="relations">
                        
                        <a href="building-models/build-config.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê smithy-build</a>
                        
                        <a href="evolving-models.html" title="next chapter" class="next-page clearfix">Evolving Models ‚Üí</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="building-models/build-config.html" title="previous chapter" class="previous-page clearfix hidden-xs">‚Üê Prev</a>
                                
                                <a href="evolving-models.html" title="next chapter" class="next-page clearfix">Next ‚Üí</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">Model linters</a><ul>
<li><a class="reference internal" href="#linting-overview">Linting overview</a></li>
<li><a class="reference internal" href="#linters-in-smithy-linters">Linters in <code class="docutils literal notranslate"><span class="pre">smithy-linters</span></code></a><ul>
<li><a class="reference internal" href="#abbreviationname">AbbreviationName</a></li>
<li><a class="reference internal" href="#camelcase">CamelCase</a></li>
<li><a class="reference internal" href="#noninclusiveterms">NoninclusiveTerms</a></li>
<li><a class="reference internal" href="#reservedwords">ReservedWords</a><ul>
<li><a class="reference internal" href="#wildcards-in-reservedwords">Wildcards in ReservedWords</a></li>
</ul>
</li>
<li><a class="reference internal" href="#standardoperationverb">StandardOperationVerb</a></li>
<li><a class="reference internal" href="#repeatedshapename">RepeatedShapeName</a></li>
<li><a class="reference internal" href="#inputoutputstructurereuse">InputOutputStructureReuse</a></li>
<li><a class="reference internal" href="#missingpaginatedtrait">MissingPaginatedTrait</a></li>
<li><a class="reference internal" href="#shouldhaveusedtimestamp">ShouldHaveUsedTimestamp</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-custom-validators">Writing custom validators</a></li>
<li><a class="reference internal" href="#writing-custom-linters">Writing custom Linters</a></li>
</ul>
</li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>¬©2021, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>